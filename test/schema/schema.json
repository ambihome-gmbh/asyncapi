{
    "asyncapi": "3.0.0",
    "info": {
        "title": "Sample API",
        "version": "0.0.1",
        "description": "description",
        "x-modulename": "SampleApi"
    },
    "defaultContentType": "application/json",
    "servers": {
        "production": {
            "host": "127.0.0.1",
            "protocol": "mqtt",
            "description": "Test broker",
            "variables": {
                "port": {
                    "description": "TODO",
                    "default": "1883",
                    "enum": [
                        "1883"
                    ]
                }
            }
        }
    },
    "channels": {
        "P1": {
            "address": "P1",
            "title": "P1-channel",
            "messages": {
                "some-message": {
                    "name": "P1-message-name",
                    "payload": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {}
                    }
                }
            },
            "description": "no parameters, empty payload"
        },
        "P2": {
            "address": "P2",
            "title": "P2-channel",
            "messages": {
                "some-message": {
                    "name": "P2-message-name",
                    "payload": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {
                            "some_prop": {
                                "type": "string",
                                "default": "some_default_value"
                            },
                            "some_int_prop": {
                                "type": "integer",
                                "default": 4711
                            },
                            "prop_with_no_default": {
                                "type": "string"
                            }
                        },
                        "required": [
                            "some_prop"
                        ]
                    }
                }
            },
            "description": "no parameters, some payload"
        },
        "P3": {
            "address": "P3/{p}",
            "title": "P3-channel",
            "messages": {
                "some-message": {
                    "name": "P3-message-name",
                    "payload": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {}
                    }
                }
            },
            "description": "single parameter, no payload",
            "parameters": {
                "p": {
                    "description": "description of p",
                    "enum": [
                        "p1",
                        "p2",
                        "p3"
                    ]
                }
            }
        },
        "P4": {
            "address": "P4/{p}/P44",
            "title": "P4-channel",
            "messages": {
                "some-message": {
                    "name": "P4-message-name",
                    "payload": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {}
                    }
                }
            },
            "description": "single parameter inbetween, no payload",
            "parameters": {
                "p": {
                    "description": "description of p",
                    "enum": [
                        "p1",
                        "p2",
                        "p3"
                    ]
                }
            }
        },
        "P5": {
            "address": "P5",
            "title": "P5-channel",
            "messages": {
                "some-message": {
                    "name": "P5-message-name",
                    "payload": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {}
                    }
                }
            },
            "description": "message as $ref"
        },
        "P6": {
            "address": "P6/{pp}",
            "title": "P6-channel",
            "messages": {
                "some-message": {
                    "name": "P6-message-name",
                    "payload": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {}
                    }
                }
            },
            "description": "single parameter, no refs",
            "parameters": {
                "pp": {
                    "description": "description of pp"
                }
            }
        },
        "S1": {
            "address": "S1",
            "title": "S1-channel",
            "messages": {
                "some-message": {
                    "name": "S1-message-name",
                    "payload": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {}
                    }
                }
            },
            "description": "no parameters, empty payload"
        },
        "S2": {
            "address": "S2",
            "title": "S2-channel",
            "messages": {
                "some-message": {
                    "name": "S2-message-name",
                    "payload": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {
                            "some_prop": {
                                "type": "string",
                                "default": "some_default_value"
                            },
                            "some_int_prop": {
                                "type": "integer",
                                "default": 4711
                            },
                            "prop_with_no_default": {
                                "type": "string"
                            }
                        },
                        "required": [
                            "some_prop"
                        ]
                    }
                }
            },
            "description": "no parameters, some payload"
        },
        "S3": {
            "address": "S3/{p}",
            "title": "S3-channel",
            "messages": {
                "some-message": {
                    "name": "S3-message-name",
                    "payload": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {}
                    }
                }
            },
            "description": "single parameter, no payload",
            "parameters": {
                "p": {
                    "description": "description of p",
                    "enum": [
                        "p1",
                        "p2",
                        "p3"
                    ]
                }
            }
        },
        "S4": {
            "address": "S4/{p}/S44",
            "title": "S4-channel",
            "messages": {
                "some-message": {
                    "name": "S4-message-name",
                    "payload": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {}
                    }
                }
            },
            "description": "single parameter inbetween, no payload",
            "parameters": {
                "p": {
                    "description": "description of p",
                    "enum": [
                        "p1",
                        "p2",
                        "p3"
                    ]
                }
            }
        },
        "S5": {
            "address": "S5",
            "title": "S5-channel",
            "messages": {
                "some-message": {
                    "name": "P5-message-name",
                    "payload": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {}
                    }
                }
            },
            "description": "message as $ref"
        },
        "S6": {
            "address": "S6/{pp}",
            "title": "S6-channel",
            "messages": {
                "some-message": {
                    "name": "S6-message-name",
                    "payload": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {}
                    }
                }
            },
            "description": "single parameter, no refs",
            "parameters": {
                "pp": {
                    "description": "description of pp"
                }
            }
        }
    },
    "operations": {
        "P1": {
            "action": "receive",
            "channel": {
                "$ref": "#/channels/P1"
            }
        },
        "P2": {
            "action": "receive",
            "channel": {
                "$ref": "#/channels/P2"
            }
        },
        "P3": {
            "action": "receive",
            "channel": {
                "$ref": "#/channels/P3"
            }
        },
        "P4": {
            "action": "receive",
            "channel": {
                "$ref": "#/channels/P4"
            }
        },
        "P5": {
            "action": "receive",
            "channel": {
                "$ref": "#/channels/P5"
            }
        },
        "P6": {
            "action": "receive",
            "channel": {
                "$ref": "#/channels/P6"
            }
        },
        "S1": {
            "action": "send",
            "channel": {
                "$ref": "#/channels/S1"
            }
        },
        "S2": {
            "action": "send",
            "channel": {
                "$ref": "#/channels/S2"
            }
        },
        "S3": {
            "action": "send",
            "channel": {
                "$ref": "#/channels/S3"
            }
        },
        "S4": {
            "action": "send",
            "channel": {
                "$ref": "#/channels/S4"
            }
        },
        "S5": {
            "action": "send",
            "channel": {
                "$ref": "#/channels/S5"
            }
        },
        "S6": {
            "action": "send",
            "channel": {
                "$ref": "#/channels/S6"
            }
        }
    },
    "components": {
        "parameters": {
            "p": {
                "description": "description of p",
                "enum": [
                    "p1",
                    "p2",
                    "p3"
                ]
            }
        },
        "schemas": {
            "empty_payload": {
                "type": "object",
                "additionalProperties": false,
                "properties": {}
            },
            "some_payload": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                    "some_prop": {
                        "type": "string",
                        "default": "some_default_value"
                    },
                    "some_int_prop": {
                        "type": "integer",
                        "default": 4711
                    },
                    "prop_with_no_default": {
                        "type": "string"
                    }
                },
                "required": [
                    "some_prop"
                ]
            }
        },
        "messages": {
            "some_message": {
                "name": "P5-message-name",
                "payload": {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {}
                }
            }
        }
    }
}