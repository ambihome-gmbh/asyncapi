asyncapi: 3.0.0
info:
  title: Timer API
  version: 0.0.2
defaultContentType: application/json
servers:
  production:
    host: "localhost:{port}"
    protocol: mqtt
    description: Test broker
    variables:
      port:
        description: TODO
        default: "1883"
        enum:
          - "1883"
operations:
  create:
    action: receive
    channel:
      $ref: "#/channels/create"
    reply:
      channel:
        $ref: "#/channels/info_state"
  update:
    action: receive
    channel:
      $ref: "#/channels/update"
  activate:
    action: receive
    channel:
      $ref: "#/channels/activate"
  deactivate:
    action: receive
    channel:
      $ref: "#/channels/deactivate"
  delete:
    action: receive
    channel:
      $ref: "#/channels/delete"
  get_all_states:
    action: receive
    channel:
      $ref: "#/channels/get_all_states"
  get_state:
    action: receive
    channel:
      $ref: "#/channels/get_state"
  state:
    action: send
    channel:
      $ref: "#/channels/info_state"
  dp_write_req:
    action: send
    channel:
      $ref: "#/channels/dp_write_req"
  error:
    action: send
    channel:
      $ref: "#/channels/error"
